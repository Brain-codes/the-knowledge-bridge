---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/navbar/Navbar.astro';
import Container from '../components/ui/Container.astro';
import FormInput from '../components/forms/FormInput.astro';
import FormTextarea from '../components/forms/FormTextarea.astro';
import Footer from '../components/footer/Footer.astro';

const seo = {
  title: "Contact Us",
  description: "Get in touch with The Knowledge Bridge. Let's discuss how we can support your organization in moving from insight to action.",
  keywords: "contact knowledge bridge, get in touch, consulting inquiry, partnership",
};

const contactInfo = [
  {
    title: "Email",
    value: "hello@knowledgebridge.com",
    href: "mailto:hello@knowledgebridge.com"
  },
  {
    title: "LinkedIn",
    value: "The Knowledge Bridge",
    href: "https://www.linkedin.com/company/knowledge-bridge"
  }
];
---

<Layout 
  title={seo.title}
  description={seo.description}
  keywords={seo.keywords}
>
  <Navbar />
  
  <main class="relative">
    <!-- Hero Section -->
    <section class="w-full bg-gradient-to-br from-white via-primary-light/10 to-primary-green/5 pt-[60px] min-[320px]:pt-[72px] min-[400px]:pt-[84px] sm:pt-[96px] md:pt-[119px] relative overflow-hidden">
      <!-- Animated Connection Lines -->
      <svg class="absolute inset-0 w-full h-full opacity-[0.07] pointer-events-none" viewBox="0 0 1000 600">
        <defs>
          <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#005E02;stop-opacity:0" />
            <stop offset="50%" style="stop-color:#005E02;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#005E02;stop-opacity:0" />
          </linearGradient>
        </defs>
        <path d="M 100 100 Q 300 200 500 150 T 900 200" stroke="url(#lineGradient)" stroke-width="2" fill="none" stroke-dasharray="10,5">
          <animate attributeName="stroke-dashoffset" from="0" to="30" dur="3s" repeatCount="indefinite"/>
        </path>
        <path d="M 150 400 Q 400 300 600 350 T 850 400" stroke="url(#lineGradient)" stroke-width="2" fill="none" stroke-dasharray="10,5">
          <animate attributeName="stroke-dashoffset" from="30" to="0" dur="4s" repeatCount="indefinite"/>
        </path>
        <circle cx="500" cy="150" r="5" fill="#005E02">
          <animate attributeName="r" values="5;8;5" dur="2s" repeatCount="indefinite"/>
        </circle>
        <circle cx="600" cy="350" r="5" fill="#71B06C">
          <animate attributeName="r" values="5;8;5" dur="2.5s" repeatCount="indefinite"/>
        </circle>
      </svg>
      
      <!-- Floating Chat Bubbles -->
      <div class="absolute top-28 left-[8%] hidden lg:block" data-aos="fade-right" data-aos-delay="300">
        <div class="bg-white border-2 border-primary-green/30 rounded-2xl rounded-tl-none px-6 py-4 shadow-xl max-w-[200px]">
          <p class="text-sm text-primary-text font-medium">Looking to collaborate?</p>
          <div class="flex gap-1 mt-2">
            <div class="w-2 h-2 bg-primary-green rounded-full animate-pulse"></div>
            <div class="w-2 h-2 bg-primary-green rounded-full animate-pulse" style="animation-delay: 0.2s;"></div>
            <div class="w-2 h-2 bg-primary-green rounded-full animate-pulse" style="animation-delay: 0.4s;"></div>
          </div>
        </div>
      </div>
      
      <div class="absolute top-48 right-[5%] hidden lg:block" data-aos="fade-left" data-aos-delay="400">
        <div class="bg-primary-green text-white rounded-2xl rounded-tr-none px-6 py-4 shadow-xl max-w-[220px]">
          <p class="text-sm font-medium">We would love to hear from you!</p>
          <div class="mt-2 flex justify-end">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
              <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
            </svg>
          </div>
        </div>
      </div>
      
      <div class="absolute bottom-32 left-[12%] hidden xl:block" data-aos="zoom-in" data-aos-delay="500">
        <div class="bg-gradient-to-br from-primary-light/20 to-primary-green/20 backdrop-blur-sm border border-primary-green/30 rounded-xl px-5 py-3 shadow-lg">
          <div class="flex items-center gap-2 text-primary-green">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span class="text-sm font-semibold">Fast Response Time</span>
          </div>
        </div>
      </div>
      
      <!-- Decorative Dots -->
      <div class="absolute top-20 right-[15%] grid grid-cols-3 gap-2 opacity-20">
        <div class="w-2 h-2 bg-primary-green rounded-full"></div>
        <div class="w-2 h-2 bg-primary-green rounded-full"></div>
        <div class="w-2 h-2 bg-primary-green rounded-full"></div>
        <div class="w-2 h-2 bg-primary-light rounded-full"></div>
        <div class="w-2 h-2 bg-primary-light rounded-full"></div>
        <div class="w-2 h-2 bg-primary-light rounded-full"></div>
      </div>
      
      <Container 
        maxWidth="full" 
        padding="lg"
        class="py-12 min-[320px]:py-16 min-[400px]:py-20 sm:py-24 md:py-28 lg:py-32 relative z-10"
      >
        <div class="max-w-5xl mx-auto">
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 items-center">
            <!-- Left Side - Content -->
            <div class="lg:col-span-7">
              <div class="flex items-center gap-3 mb-6 min-[320px]:mb-8" data-aos="fade-right">
                <div class="w-12 h-12 bg-primary-green/10 rounded-lg flex items-center justify-center">
                  <svg class="w-6 h-6 text-primary-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                  </svg>
                </div>
                <span class="font-semibold text-primary-green text-sm uppercase tracking-wider">Get In Touch</span>
              </div>
              
              <h1 class="
                font-bold text-primary-green
                text-2xl min-[320px]:text-3xl min-[400px]:text-4xl sm:text-5xl md:text-6xl lg:text-7xl
                leading-tight mb-6 min-[320px]:mb-8
              " data-aos="fade-up" data-aos-delay="100">
                Let's Start a <span class="text-primary-text">Conversation</span>
              </h1>
              
              <p class="
                font-normal text-primary-text
                text-sm min-[320px]:text-base min-[400px]:text-lg sm:text-xl
                leading-relaxed mb-8
              " data-aos="fade-up" data-aos-delay="200">
                Ready to bridge the gap between insight and action? We are here to discuss how we can support your organization in achieving measurable impact.
              </p>
              
              <!-- Quick Contact Options -->
              <div class="flex flex-wrap gap-4" data-aos="fade-up" data-aos-delay="300">
                <a href="#contact-form" class="inline-flex items-center gap-2 bg-primary-green text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-green/90 transition-colors">
                  Send a Message
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                  </svg>
                </a>
                <a href="mailto:hello@knowledgebridge.com" class="inline-flex items-center gap-2 bg-white border-2 border-primary-green text-primary-green px-6 py-3 rounded-lg font-semibold hover:bg-primary-light/10 transition-colors">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                    <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                  </svg>
                  Email Us
                </a>
              </div>
            </div>
            
            <!-- Right Side - Visual Element -->
            <div class="lg:col-span-5" data-aos="fade-left" data-aos-delay="400">
              <div class="relative">
                <!-- Connection Visual -->
                <div class="bg-gradient-to-br from-primary-green/10 to-primary-light/10 rounded-3xl p-8 border-2 border-primary-green/20">
                  <div class="flex flex-col items-center text-center">
                    <div class="w-20 h-20 bg-primary-green rounded-full flex items-center justify-center mb-4">
                      <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"></path>
                      </svg>
                    </div>
                    <h3 class="text-xl font-bold text-primary-green mb-2">We Will Respond</h3>
                    <p class="text-sm text-primary-text">Within 24 hours on business days</p>
                  </div>
                </div>
                
                <!-- Floating Icons -->
                <div class="absolute -top-4 -left-4 w-12 h-12 bg-primary-light rounded-full flex items-center justify-center shadow-lg">
                  <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div class="absolute -bottom-4 -right-4 w-12 h-12 bg-primary-green rounded-full flex items-center justify-center shadow-lg">
                  <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>
      </Container>
    </section>

    <!-- Contact Form & Info Section -->
    <section id="contact-form" class="w-full bg-white">
      <Container 
        maxWidth="full" 
        padding="lg"
        class="py-12 min-[320px]:py-16 min-[400px]:py-20 sm:py-24 md:py-28 lg:py-32"
      >
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 min-[320px]:gap-16 min-[400px]:gap-20 sm:gap-24 md:gap-28 lg:gap-32">
          <!-- Contact Form -->
          <div class="w-full" data-aos="fade-right">
            <div class="flex items-center gap-3 min-[320px]:gap-4 mb-8 min-[320px]:mb-10 min-[400px]:mb-12">
              <svg width="47" height="46" viewBox="0 0 47 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M46.6601 22.9999C46.8808 22.9979 47 23 47 23C47 23 46.8806 23.0017 46.6601 22.9999C44.7835 23.0164 35.5656 23.3221 29.8233 27.6371C23.9488 32.0515 23.6097 43.7706 23.5944 45.7225C23.5959 45.9031 23.5944 46 23.5944 46C23.5944 46 23.593 45.903 23.5944 45.7225C23.5797 43.889 23.2586 33.4281 17.9317 28.1935C12.9209 23.2696 3.34226 22.9703 0.693615 22.9859C0.249828 23 0 23 0 23C0 23 0.249292 22.9885 0.693615 22.9859C3.43078 22.8989 13.5464 22.2754 17.9317 17.8065C23.0281 12.6129 23.5944 0 23.5944 0C23.5944 0 23.7831 12.0565 28.8795 17.621C33.4879 22.6526 44.5783 22.9828 46.6601 22.9999Z" fill="#005E02"/>
              </svg>
              <h2 class="
                font-medium text-primary-text
                text-lg min-[320px]:text-xl min-[400px]:text-2xl sm:text-3xl md:text-4xl
                leading-tight
              ">
                Send Us a Message
              </h2>
            </div>

            <form id="contact-form" class="flex flex-col gap-5 min-[320px]:gap-6 min-[400px]:gap-7 sm:gap-8">
              <FormInput 
                type="text"
                name="name"
                label="Full Name"
                placeholder="John Doe"
                required
              />

              <FormInput 
                type="email"
                name="email"
                label="Email Address"
                placeholder="john@example.com"
                required
              />

              <FormInput 
                type="text"
                name="organization"
                label="Organization"
                placeholder="Your Organization Name"
              />

              <FormTextarea 
                name="message"
                label="Message"
                placeholder="Tell us about your needs and how we can help..."
                rows={6}
                required
              />

              <button
                type="submit"
                class="
                  w-full
                  bg-primary-text
                  text-white
                  font-bold
                  px-6 min-[320px]:px-8 min-[400px]:px-10
                  py-3 min-[320px]:py-3.5 min-[400px]:py-4 sm:py-5
                  rounded-md min-[320px]:rounded-lg
                  text-sm min-[320px]:text-base min-[400px]:text-lg sm:text-xl
                  transition-all duration-200
                  hover:bg-primary-green hover:scale-105
                  active:scale-95
                "
              >
                Send Message
              </button>
            </form>

            <script>
              document.getElementById('contact-form')?.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const form = e.target as HTMLFormElement;
                const formData = new FormData(form);
                
                const name = formData.get('name') as string;
                const email = formData.get('email') as string;
                const organization = formData.get('organization') as string || 'Not provided';
                const message = formData.get('message') as string;
                
                const subject = `Inquiry from ${name}`;
                const body = `Name: ${name}
Email: ${email}
Organization: ${organization}

Message:
${message}`;
                
                const mailtoLink = `mailto:hello@knowledgebridge.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                
                window.location.href = mailtoLink;
              });
            </script>
          </div>

          <!-- Contact Information -->
          <div class="w-full flex flex-col justify-center gap-12 min-[320px]:gap-14 min-[400px]:gap-16 sm:gap-20" data-aos="fade-left">
            <div>
              <div class="flex items-center gap-3 min-[320px]:gap-4 mb-6 min-[320px]:mb-8">
                <svg width="47" height="46" viewBox="0 0 47 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M46.6601 22.9999C46.8808 22.9979 47 23 47 23C47 23 46.8806 23.0017 46.6601 22.9999C44.7835 23.0164 35.5656 23.3221 29.8233 27.6371C23.9488 32.0515 23.6097 43.7706 23.5944 45.7225C23.5959 45.9031 23.5944 46 23.5944 46C23.5944 46 23.593 45.903 23.5944 45.7225C23.5797 43.889 23.2586 33.4281 17.9317 28.1935C12.9209 23.2696 3.34226 22.9703 0.693615 22.9859C0.249828 23 0 23 0 23C0 23 0.249292 22.9885 0.693615 22.9859C3.43078 22.8989 13.5464 22.2754 17.9317 17.8065C23.0281 12.6129 23.5944 0 23.5944 0C23.5944 0 23.7831 12.0565 28.8795 17.621C33.4879 22.6526 44.5783 22.9828 46.6601 22.9999Z" fill="#005E02"/>
                </svg>
                <h2 class="
                  font-medium text-primary-text
                  text-lg min-[320px]:text-xl min-[400px]:text-2xl sm:text-3xl md:text-4xl
                  leading-tight
                ">
                  Get in Touch
                </h2>
              </div>

              <div class="flex flex-col gap-6 min-[320px]:gap-7 min-[400px]:gap-8 sm:gap-10">
                {contactInfo.map((info) => (
                  <div class="flex flex-col gap-2 min-[320px]:gap-3">
                    <h3 class="
                      font-semibold text-primary-text
                      text-sm min-[320px]:text-base min-[400px]:text-lg
                    ">
                      {info.title}
                    </h3>
                    <a 
                      href={info.href}
                      target={info.href.startsWith('http') ? '_blank' : undefined}
                      rel={info.href.startsWith('http') ? 'noopener noreferrer' : undefined}
                      class="
                        font-normal text-primary-green
                        text-xs min-[320px]:text-sm min-[400px]:text-base sm:text-lg
                        hover:underline transition-all
                      "
                    >
                      {info.value}
                    </a>
                  </div>
                ))}
              </div>
            </div>

            <!-- Additional Info Box -->
            <div class="
              bg-gradient-to-br from-primary-light/10 to-primary-green/5
              border-2 border-primary-green/30
              rounded-lg min-[320px]:rounded-xl
              p-6 min-[320px]:p-7 min-[400px]:p-8 sm:p-10
              shadow-lg
              transition-all duration-300
              hover:border-primary-green/50 hover:shadow-xl
              relative overflow-hidden
            ">
              <!-- Decorative Element -->
              <div class="absolute -top-10 -right-10 opacity-10 pointer-events-none">
                <svg width="120" height="120" viewBox="0 0 47 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M46.6601 22.9999C46.8808 22.9979 47 23 47 23C47 23 46.8806 23.0017 46.6601 22.9999C44.7835 23.0164 35.5656 23.3221 29.8233 27.6371C23.9488 32.0515 23.6097 43.7706 23.5944 45.7225C23.5959 45.9031 23.5944 46 23.5944 46C23.5944 46 23.593 45.903 23.5944 45.7225C23.5797 43.889 23.2586 33.4281 17.9317 28.1935C12.9209 23.2696 3.34226 22.9703 0.693615 22.9859C0.249828 23 0 23 0 23C0 23 0.249292 22.9885 0.693615 22.9859C3.43078 22.8989 13.5464 22.2754 17.9317 17.8065C23.0281 12.6129 23.5944 0 23.5944 0C23.5944 0 23.7831 12.0565 28.8795 17.621C33.4879 22.6526 44.5783 22.9828 46.6601 22.9999Z" fill="#005E02"/>
                </svg>
              </div>
              
              <div class="relative z-10">
                <div class="flex items-center gap-3 mb-4 min-[320px]:mb-5">
                  <svg width="32" height="32" viewBox="0 0 47 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M46.6601 22.9999C46.8808 22.9979 47 23 47 23C47 23 46.8806 23.0017 46.6601 22.9999C44.7835 23.0164 35.5656 23.3221 29.8233 27.6371C23.9488 32.0515 23.6097 43.7706 23.5944 45.7225C23.5959 45.9031 23.5944 46 23.5944 46C23.5944 46 23.593 45.903 23.5944 45.7225C23.5797 43.889 23.2586 33.4281 17.9317 28.1935C12.9209 23.2696 3.34226 22.9703 0.693615 22.9859C0.249828 23 0 23 0 23C0 23 0.249292 22.9885 0.693615 22.9859C3.43078 22.8989 13.5464 22.2754 17.9317 17.8065C23.0281 12.6129 23.5944 0 23.5944 0C23.5944 0 23.7831 12.0565 28.8795 17.621C33.4879 22.6526 44.5783 22.9828 46.6601 22.9999Z" fill="#005E02"/>
                  </svg>
                  <h3 class="
                    font-semibold text-primary-green
                    text-base min-[320px]:text-lg min-[400px]:text-xl sm:text-2xl
                  ">
                    What to Expect
                  </h3>
                </div>
                <p class="
                  font-normal text-primary-text
                  text-xs min-[320px]:text-sm min-[400px]:text-base sm:text-lg
                  leading-relaxed
                ">
                  We typically respond within 1-2 business days. We will review your inquiry and set up an initial conversation to understand your needs and explore how we can support your organization.
                </p>
              </div>
            </div>
          </div>
        </div>
      </Container>
    </section>
  </main>
  
  <Footer />
</Layout>
